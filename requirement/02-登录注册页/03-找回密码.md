# 2.3 找回密码需求

## 2.3.1 找回方式
支持三种方式（Tab切换）：
1. **人脸找回**（UI占位，点击无响应）。
2. **手机找回**（默认激活，完整实现分步流程）。
3. **邮箱找回**（UI占位，点击无响应）。

## 2.3.2 手机找回流程
流程共分为四步：填写账户信息 -> 获取验证码 -> 设置新密码 -> 完成。

### 步骤1：填写账户信息 (`/forgot-password`)
- **表单字段**:
  - **手机号码**：支持国际区号选择（如 +86），需校验11位数字。
  - **证件类型**：下拉选择，默认"居民身份证"。
  - **证件号码**：必填，需校验非空。
- **提交校验**:
  - 校验通过：调用 `validateResetAccount` 接口。
  - 接口返回成功：跳转至步骤2 (`/forgot-password/verify`)。
  - 接口返回失败：弹出 alert 提示错误信息。

### 步骤2：获取验证码 (`/forgot-password/verify`)
- **信息展示**:
  - 显示已验证的手机号（带区号）。
- **验证码获取**:
  - 点击"获取手机验证码"，调用 `sendPhoneCode`。
  - 成功后按钮显示倒计时 `重新获取(60s)`。
- **验证码提交**:
  - 输入6位数字验证码。
  - 点击"提交"，调用 `verifyPhoneCode`。
  - 成功：跳转至步骤3 (`/forgot-password/reset`)。
  - 失败：alert 提示"验证码校验失败"。

### 步骤3：设置新密码 (`/forgot-password/reset`)
- **表单字段**:
  - **新密码**：长度>=6，包含字母、数字、下划线中的至少两种。
  - **密码确认**：需与新密码一致。
- **校验逻辑**:
  - 实时显示密码强度（通过颜色条或校验提示）。
  - 若两次密码不一致，显示红色错误提示。
  - 只有校验通过时，"完成"按钮才可点击。
- **提交**:
  - 点击"完成"，调用 `resetPassword` 接口。
  - 成功：跳转至步骤4 (`/forgot-password/done`)。

### 步骤4：完成 (`/forgot-password/done`)
- **界面展示**:
  - 成功图标。
  - 提示文案："新密码设置成功，您可以使用新密码登录系统！"。
- **操作**:
  - 显示"登录"按钮，点击跳转至登录页。

## 2.3.3 异常处理与辅助功能
- **进度条导航**: 页面顶部显示4个步骤节点，当前步骤高亮（橙色），已完成步骤变色。
- **辅助链接**: 
  - 在验证码页面底部提供 "手机号码未通过校验？试试邮箱找回" 链接（目前仅为占位）。
- **通用错误**: 任何接口调用异常（网络错误等），统一通过 `alert` 弹出提示。
