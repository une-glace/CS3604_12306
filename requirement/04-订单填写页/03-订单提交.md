# 4.3 订单提交需求

## 4.3.1 提交校验
- **未选乘客**: 提示"请选择乘车人"。
- **信息不全**: 检查所有票务行是否已选席别。
- **改签校验**: 改签模式下，需确认原订单信息存在。

## 4.3.2 确认流程
1. **点击提交**:
   - 弹出确认模态框 (`OrderConfirmModal` 或 `ChangeTicketConfirmModal`)。
   - 再次展示列车信息、乘客信息、总价。
   - 验证码（当前代码已移除或简化）。
2. **确认提交**:
   - 调用 `createOrder` (正常) 或 `changeOrder` (改签) 接口。
   - 显示 "正在处理" 动画 (`OrderProcessing`)。
3. **处理结果**:
   - **成功**: 跳转至支付页 (`PayOrderPage`)，URL携带 `orderId`。
   - **失败**: 提示错误信息，停留在当前页。

## 4.3.3 座位分配
- 前端暂不进行复杂的座位分配逻辑（如选座），依赖后端返回。
- 提交订单时，后端返回分配的座位号（如 "1车1A号"）。
- 前端将座位信息写入 `localStorage` 以便在支付页和订单详情页展示。
