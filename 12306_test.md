## 12306网站复刻项目测试流程

### 前置条件

#### 数据库初始化要求

在执行测试用例之前，需要确保数据库中包含以下基础数据：

**列车表 (trains)**
需要预置以下列车信息以支持查询和订票测试：

*2025-12-15*
- 车次: G101, 列车类型: G-高铁, 出发: 北京南站 08:00, 到达: 上海虹桥站 13:28, 席别: 二等座/一等座/商务座, 价格: 553元起
- 车次: D313, 列车类型: D-动车, 出发: 北京南站 14:20, 到达: 上海虹桥站 22:50, 席别: 二等座/一等座, 价格: 428元起
- 车次: K511, 列车类型: K-快速, 出发: 北京西站 19:15, 到达: 上海站 14:45+1, 席别: 硬座/硬卧/软卧, 价格: 156元起
- 车次: G7001, 列车类型: G-高铁, 出发: 南京南站 09:30, 到达: 上海虹桥站 11:00, 席别: 二等座/一等座/商务座, 价格: 134元起
- 车次: D5401, 列车类型: D-动车, 出发: 南京南站 15:45, 到达: 上海虹桥站 17:15, 席别: 二等座/一等座, 价格: 119元起
- 车次: G7002, 列车类型: G-高铁, 出发: 上海虹桥站 12:00, 到达: 南京南站 13:30, 席别: 二等座/一等座/商务座, 价格: 134元起

*2025-12-16*
- 车次: G103, 列车类型: G-高铁, 出发: 北京南站 08:30, 到达: 上海虹桥站 13:58, 席别: 二等座/一等座/商务座, 价格: 553元起
- 车次: D315, 列车类型: D-动车, 出发: 北京南站 14:50, 到达: 上海虹桥站 23:20, 席别: 二等座/一等座, 价格: 428元起
- 车次: G153, 列车类型: G-高铁, 出发: 北京南站 10:45, 到达: 南京南站 14:15, 席别: 二等座/一等座/商务座, 价格: 443元起
- 车次: G7003, 列车类型: G-高铁, 出发: 南京南站 10:00, 到达: 上海虹桥站 11:30, 席别: 二等座/一等座/商务座, 价格: 134元起

#### 测试环境要求

1. **用户状态清理**
   - 测试开始前，确保用户名 'new user' 未被注册
   - 如果已存在该用户，请先清理相关数据

### 1.用户认证

#### test1-1:注册
- 首页点击"注册" -> 跳转至注册界面
- "用户名"输入框输入'new user'
- "登录密码"输入框输入'mypassword'
- "确认登录密码"输入框输入'mypassword'
- "姓名"输入框输入'New User'
- "证件号"输入框输入'100111222233334443'
- "手机号"输入框输入'13812341234'
- 勾选"我已阅读并同意遵守..."协议
- 点击"下一步" -> 提示用户注册成功，跳转至首页

#### test1-2:账号密码登录
- 首页点击"登录" -> 跳转至登录界面
- 选择"账号登录"方式
- "用户名"输入框输入'new user'
- "密码"输入框输入'mypassword'
- 点击"立即登录" -> 系统验证成功后跳转首页，顶部显示"您好, New User"

### 2.常用乘车人管理

#### test2-1:查看乘车人
- 首页顶部点击用户名，进入"个人中心"
- 在侧边栏点击"常用信息管理"下的"乘车人" -> 显示当前账号已关联的乘客列表，当前只有账号默认乘客

#### test2-2:添加乘车人
- 在"乘车人"管理页面点击"添加"按钮 -> 弹出新增乘客表单
- 填写姓名'张三'
- 选择证件类型'居民身份证'
- 填写证件号码'100111222233334444'
- 填写手机号'13812341235'
- 选择优惠类型'成人'
- 点击"保存" -> 验证通过并将新乘客添加到列表，显示在"乘车人"列表中
- 在"乘车人"管理页面点击"添加"按钮 -> 弹出新增乘客表单
- 填写姓名'李四'
- 选择证件类型'居民身份证'
- 填写证件号码'100111222233334445'
- 填写手机号'13812341236'
- 选择优惠类型'成人'
- 点击"保存" -> 验证通过并将新乘客添加到列表，显示在"乘车人"列表中

#### test2-3:删除乘车人
- 在乘车人列表找到乘客'张三'，点击其对应的"删除"按钮 -> 弹出确认框
- 在确认框点击"确认" -> 该乘客从列表成功移除

### 3.车票查询与筛选

#### test3-1:查询车票
- 首页登录后，在车票查询模块选择"单程"
- 输入出发地'北京'
- 输入到达地'上海'
- 选择出发日期'2025-12-15'
- 点击"查询" -> 跳转至"车次列表"页并显示符合条件的车次

#### test3-2:筛选车次类型
- 在车次列表页，在"车次类型"一栏仅勾选"D-动车"
- 观察列表刷新 -> 仅显示D开头的动车车次

#### test3-3:筛选席别
- 在车次列表页，在"车次席别"一栏仅勾选"一等座"
- 观察列表刷新 -> 仅显示包含一等座的车次

#### test3-4:修改查询条件
- 在列表页顶部查询栏修改出发地为'南京'
- 在列表页顶部查询栏修改目的地为'上海'
- 点击"查询" -> 当前页面刷新并显示"南京"到"上海"的车次

### 4.订票与订单管理

#### test4-1:选择车次
- 在车次列表页选择第一个车次，点击该车次的"预订"按钮 -> 跳转到订单填写页，显示"列车信息"和"乘客信息"

#### test4-2:提交订单
- 在订单页乘客信息勾选乘客'New User' -> 乘客被选中，生成一条乘客信息
- 为该乘客选择席别'二等座'
- 点击"提交订单" -> 系统创建订单并跳转订单详情，状态为"待支付"

#### test4-3:支付订单
- 首页顶部点击用户名，进入"订单中心"，"火车票订单"，"未完成订单"列表 -> 显示待支付订单列表
- 点击第一个订单的"去支付"按钮 -> 弹出模拟支付成功提示
- 确认提示并返回订单列表 -> 订单状态更新为"已支付"
- 点击"未出行订单" -> 显示已支付订单列表，包含一个已支付订单

### 5.个人信息管理

#### test5-1:查看个人信息
- 首页顶部点击用户名，进入"个人中心"
- 在侧边栏点击"个人信息"下的"查看个人信息" -> 显示当前用户基本信息和联系方式

#### test5-2:修改个人信息
- 首页顶部点击用户名，进入"个人中心"
- 在"个人信息"页面的"联系方式"模块点击"编辑" -> 相关字段变为可输入状态
- 在邮箱字段输入'newuser@example.com'
- 点击"保存" -> 提示"修改成功"，页面显示更新后的邮箱信息